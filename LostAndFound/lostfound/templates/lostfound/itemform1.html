!DOCTYPE html>
<html lang="en">
  <head>
      <style>
          body{
              overflow: hidden;
          }
      </style>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>

  <body>
    <form
      class="container"
      action="{% url 'newitem' %}"
      method="post"
      enctype="multipart/form-data"
      id="form"
    >
      {% csrf_token %}
      <label for="basic-url" class="form-label" style="margin-top: 5%"
        ><u>Personal Details</u></label
      >
      <div class="input-group mb-3">
        <input
          type="text"
          name="firstName"
          class="form-control"
          placeholder="FirstName"
          aria-label="Username"
          aria-describedby="basic-addon1"
          id="fname"
        />
        <input
          type="text"
          name="lastName"
          class="form-control"
          placeholder="LastName"
          aria-label="Username"
          aria-describedby="basic-addon1"
          id="lname"
        />
      </div>

      <div class="input-group mb-3">
        <input
          type="text"
          name="email"
          class="form-control"
          placeholder="E-Mail Address"
          aria-label="Recipient's username"
          aria-describedby="basic-addon2"
          id="email"
        />
        <span class="input-group-text" id="basic-addon2">@iiitdmj.ac.in</span>
      </div>

      <div class="input-group mb-3">
        <!--<input type="text" name="mobileNumber"id="UserMobile" maxlength="10" data-fv-numeric="false"
                data-fv-numeric-message="Please enter valid phone numbers" data-fv-phone-country11="IN"
                required="required" data-fv-notempty-message="This field cannot be left blank."
                placeholder="Mobile No. " class="form-control" name="data[User][mobile]"
data-fv-field="data[User][mobile]" required> -->
        <input
          type="text"
          name="mobileNumber"
          maxlength="10"
          placeholder="Mobile Number"
          class="form-control"
          id="UserMobile"
        />
      </div>
      <div class="input-group mb-3">
        <input
          type="text"
          name="rollNumber"
          class="form-control"
          placeholder="Institute Roll Number"
          aria-label="Recipient's username"
          aria-describedby="basic-addon2"
          id="roll"
        />
      </div>
      <div class="input-group mb-3">
        <input
          type="text"
          name="roomNumber"
          class="form-control"
          placeholder="Room Number (with proper Hostel Name and Block Name)"
          aria-label="Recipient's username"
          aria-describedby="basic-addon2"
          id="add"
        />
      </div>

      <label for="basic-url" class="form-label" style="margin-top: 5%"
        ><u>Details of the Item lost</u></label
      >
      <div class="input-group mb-3">
        <input
          type="text"
          name="title"
          class="form-control"
          placeholder="Title"
          aria-describedby="basic-addon2"
          id="tit"
        />
      </div>
      <div class="input-group mb-3">
        <textarea
          name="description"
          class="form-control"
          aria-label="With textarea"
          placeholder="Description"
          id="des"
        ></textarea>
      </div>
      <div class="input-group mb-3">
        <select
          name="category"
          class="custom-select form-control"
          id="inputGroupSelect04"
        >
          <option selected disabled id="blah">Select Category</option>
          {% for category in categories %}
          <option value="{{ category }}">{{ category }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="input-group mb-3">
        <input
          name="image"
          type="file"
          class="form-control"
          placeholder="Add an Image"
          aria-label="Recipient's username"
          aria-describedby="basic-addon2"
        />
      </div>
      <input type="submit" value="Submit" id="btn-close"/>
    </form>
    <script>
        let frm = document.getElementById("form");
        let btn = document.getElementById("btn-close")
  
  
        let fname = document.getElementById("fname")
        let lname = document.getElementById("lname")
        let email = document.getElementById("email")
        let mobile = document.getElementById("UserMobile")
        let roll = document.getElementById("roll")
        let add = document.getElementById("add")
        let tit = document.getElementById("tit")
        let des = document.getElementById("des")
        let drop = document.getElementById("inputGroupSelect04")
        let img = document.getElementById("img")
        



        
  
        function checker()
        {
          if(fname.value == "" || fname.value == null)
          {
              window.alert("Please enter First name")
              return false
          }
          if(lname.value == "" || lname.value == null)
          {
              window.alert("Please enter Last name")
              return false
          }
          if(email.value == "" || email.value == null)
          {
              window.alert("Please enter email")
              return false
          }
          if(mobile.value == "" || mobile.value == null)
          {
              window.alert("Please enter Mobile number")
              return false
          }
          if(roll.value == "" || roll.value == null)
          {
              window.alert("Please enter Roll number")
              return false
          }
          if(add.value == "" || add.value == null)
          {
              window.alert("Please enter Address")
              return false
          }
          if(tit.value == "" || tit.value == null)
          {
              window.alert("Please enter title")
              return false
          }
          if(des.value == "" || des.value == null)
          {
              window.alert("Please enter Description")
              return false
          }
          if(drop.value == "blah" || drop.value == null)
          {
              window.alert("Please enter valid category")
              return false
          }
          return true
  
  
        }
  
        btn.addEventListener("click", (e) => {
            if(checker()){
              frm.submit();
              window.close();
            }
            else{
                console.log("hi")
            }
  
          
          
        });
      </script>
  </body>
</html>
